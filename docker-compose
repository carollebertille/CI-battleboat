version: '3.7'

services:
  battlechoco:
    hostname: battleboatchoco
    depends_on:
        - mysql
    image: edennolan2021/battleboat:2.0
    container_name: battleboatchoco
    environment:
        - DATABASE_HOST: dbchoc
        - DATABASE_NAME: battleboat
        - DATABASE_USER: battleuser
        - DATABASE_password: battlepass 
    ports:
        - 8181:80
    networks:
        - web
    volumes:
        - battleboat:/var/www/html
  
  dbchoco:
    hostname: dbchoco
    image: mysql:5.7
    container_name: dbchoco
    environment: 
        - MYSQL_ROOT_PASSWORD: rootpwddbchoco
        - MYSQL_USER: battleuser
        - MYSQL_PASSWORD: battlepass
        - MYSQL_DATABASE: battleboat
    networks:
        - web
    volumes:
        - database:/var/lib/mysql
    ports:
        - 3306:3306
networks:
    web:

volumes:
    wordpressdata:
    database:
